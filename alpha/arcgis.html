<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>TigerTools</title>

    <!-- Bootstrap 4 and Jquery -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

    <!-- ArcGIS CSS and JS -->
    <link rel="stylesheet" href="https://js.arcgis.com/4.18/esri/themes/light/main.css">
    <script src="https://js.arcgis.com/4.18/"></script>

    <!-- Our CSS and JS -->
    <link rel="stylesheet" href="{{url_for('static', filename='style.css')}}">
    <script src="{{url_for('static', filename='loadmapendtoend.js')}}"> </script>
    <!-- <script src="loadmapendtoend.js"></script> -->
    <!-- style.css -->

    <!-- Favicon -->
    <link rel="shortcut icon" type="image/x-icon" href="{{url_for('static', filename='favicon.ico')}}"/>

    <!-- Font awesome 5 (for icons) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css ">

  </head>

  <body>

    <!-- Div on which the map is displayed -->
    <div id="viewDiv"></div>

    <!-- Button for opening the menu
      https://getbootstrap.com/docs/4.0/components/buttons/ -->
    <button id="openNav" type="button" class="btn btn-primary btn-lg" data-toggle="collapse" data-target="#mySidenav" aria-expanded="false">Select Tools &#9776;</button>

    <!-- The menu for filtering amenities -->
    <div id="mySidenav" class="collapse">
      <!-- Menu title and button for closing menu -->
      <div class="row">
        <h4 id="menuTitle">Tool Filtering Menu</h4>
        <button type="button btn-danger" class="close" id="closeNav" data-toggle="collapse" data-target="#mySidenav" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <hr>
      <!-- Search bar -->
      <form class="form-inline my-2 my-lg-0">
        <input class="form-control mr-sm-2" type="search" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
      </form>
      <p></p>
      <!-- Filtering options -->
      <button type="button" class="btn btn-danger btn-lg sideButton" id="printers">Printers</button>
      <button type="button" class="btn btn-primary btn-lg sideButton" id="dhalls">Dining</button>
      <button type="button" class="btn btn-secondary btn-lg sideButton" id="clusters">Computer clusters</button>
      <button type="button" class="btn btn-success btn-lg sideButton" id="cafes">Caf√©s</button>
      <button type="button" class="btn btn-warning btn-lg sideButton" id="scanners">Scanners</button>
      <button type="button" class="btn btn-dark btn-lg sideButton" id="vending">Vending Machines</button>
      <button type="button" class="btn btn-dark btn-lg sideButton" id="water">Water Filling</button>
      <button type="button" class="btn btn-dark btn-lg sideButton" id="athletics">Athletics</button>
      <br />
      <hr />
      <!-- Reset filters -->
      <div class="d-flex justify-content-center">
        <button type="button" class="btn btn-danger btn-lg sideButton" id="reset">Reset all options</button>
      </div>
    </div>

    <!-- Invisible button for triggering the main modal -->
    <button id="modalTrigger" type="button" data-toggle="modal" data-target="#myModal" style="display: none;"></button>


    <!-- Main modal -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog">
      <div class="modal-dialog modal-lg mb-5">
        <div class="modal-content">

          <!-- Modal Header -->
          <div class="modal-header">
            <h4 class="modal-title">Modal Title</h4>
            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>

          <!-- Modal body -->
          <div class="modal-body">

            <!-- Tab buttons -->
            <nav>
              <div class="nav nav-tabs mb-2 nav-fill" id="nav-tab" role="tablist">
                <button class="nav-link active" id="nav-home-tab" data-toggle="tab" data-target="#nav-info" type="button" role="tab" aria-controls="nav-home" aria-selected="true">Information</button>
                <button class="nav-link" id="nav-comment-tab" data-toggle="tab" data-target="#nav-comment" type="button" role="tab" aria-controls="nav-comment" aria-selected="false">Submit Comment</button>
                <button class="nav-link" id="nav-workorder-tab" data-toggle="tab" data-target="#nav-work" type="button" role="tab" aria-controls="nav-workorder" aria-selected="false">Work Order</button>
              </div>
            </nav>

            <!-- CONTENT FOR EACH TAB -->
            <div class="tab-content">

              <!-- INFORMATION/HOME TAB -->
              <div class="tab-pane fade show active" id="nav-info" role="tabpanel" aria-labelledby="nav-home-tab">
                <!--<h4 class="text-center">Information</h4>
                <h5 class="modal-body-desc">Description</h5>
                <ul class="list-group">
                  <h5 class="text-center">View feedback from other users...</h5>
                  <li class="list-group-item d-flex justify-content-between">
                    <p class="mb-0">Sample user feedback 1.</p>
                    <small class="text-muted">1 day ago</small>
                  </li>
                  <li class="list-group-item d-flex justify-content-between">
                    <p class="mb-0">Sample user feedback 2.</p>
                    <small class="text-muted">3 days ago</small>
                  </li>
                </ul>-->
              </div>

              <!-- COMMENT TAB -->
              <div class="tab-pane fade" id="nav-comment" role="tabpanel" aria-labelledby="nav-comment-tab">
                <h4 class="text-center">Provide feedback!</h4>
                <div class="text-center" id="feedback-buttons">
                  <button class="btn btn-success btn-lg align-center"><i class="fas fa-thumbs-up"></i></button>
                  <button class="btn btn-danger btn-lg align-center"><i class="fas fa-thumbs-down"></i></button>
                </div>
                <!-- Comment input form -->
                <form>
                  <label for="message-text" class="col-form-label">Enter your own feedback here!</label>
                  <div class="input-group">
                    <textarea class="form-control" id="message-text" placeholder="Leave a comment for other users!"></textarea>
                    <button type="button" class="btn btn-success" id="submitcomment">Submit</button>
                  </div>
                </form>
              </div>

              <!-- WORK ORDER TAB -->
              <div class="tab-pane fade" id="nav-work" role="tabpanel" aria-labelledby="nav-workorder-tab">
                <h4 class="text-center">Submit a work order</h4>
                <p class="text-danger">* = Required</p>

                <!-- INPUT FORM -->
                <!-- CONSIDER AUTOFILLING NAME AND EMAIL POSSIBLY PHONE -->
                <form action="wkorder" method="post" id="workorder-form" novalidate>
                <div class="form-group required">
                <div class="form-row mb-2">
                  <div class="col-sm-6">
                    <label class="control-label" for="firstname">First name</label>
                    <input class="form-control" type="text" name="firstname" id="firstname" placeholder="First name" aria-label="First name" required>
                    <div class="invalid-feedback">
                      Please enter your first name.
                    </div>
                  </div>

                  <div class="col-sm-6">
                    <label class="control-label" for="lastname">Last name</label>
                    <input class="form-control" type="text" name="lastname" id="lastname" placeholder="Last name" aria-label="Last name" required>
                    <div class="invalid-feedback">
                      Please enter your last name.
                    </div>
                  </div>
                </div>

                <div class="form-row mb-2">
                  <div class="col-sm-6">
                    <label class="control-label" for="email">Email</label>
                    <input class="form-control" type="text" name="email" id="email" placeholder="netid@princeton.edu" aria-label="email" required>
                    <div class="invalid-feedback">
                      Please enter your email.
                    </div>
                  </div>

                  <div class="col-sm-6">
                    <label class="control-label" for="phone">Phone number</label>
                    <input class="form-control" type="text" name="phone" id="phone" placeholder="(555) 555-5555" aria-label="Phone number" required>
                    <div class="invalid-feedback">
                      Please enter your phone number.
                    </div>
                  </div>
                </div>
                </div>

                <div class="form-row mb-2">
                  <div class="col-sm-6">
                    <label for="alt-first-name">Alt First Name</label>
                    <input class="form-control" type="text" name="alt-firstname" id="alt-first-name" placeholder="Alt First Name" aria-label="Alt First Name">
                  </div>
                  <div class="col-sm-6">
                    <label for="alt-last-name">Alt Last Name</label>
                    <input class="form-control" type="text" name="alt-lastname" id="alt-last-name" placeholder="Alt Last Name" aria-label="Alt Last Name">
                  </div>
                </div>

                <div class="form-row mb-2">
                  <div class="col-sm-6">
                    <label for="alt-email">Alt Email</label>
                    <input class="form-control" type="text" name="alt-email" id="alt-email" placeholder="Alt Email" aria-label="Alt Email">
                  </div>
                  <div class="col-sm-6">
                    <label for="alt-phone">Alt Phone</label>
                    <input class="form-control" type="text" name="alt-phone" id="alt-phone" placeholder="Alt Phone" aria-label="Alt Phone">
                  </div>
                </div>

                <div class="form-row mb-2">
                  <div class="col-sm-4">
                    <label for="alt-netid">Alt NetID</label>
                    <input class="form-control" type="text" name="alt-netid" id="alt-netid" placeholder="Alt NetID" aria-label="Alt NetID">
                  </div>
                  <div class="col-sm-8">
                    <label for="contacted">Would you like to be contacted regarding scheduling?</label>
                    <input class="form-control" type="text" name="contacted" id="contacted" placeholder="(100 characters max)" aria-label="" maxlength="100">
                  </div>
                </div>

                <div class="form-row mb-2">
                <div class="col-sm-8">
                <label for="charge-source">Charge Source</label>
                <a href="https://facilities.princeton.edu/services/guides/work-order-charge-source-guidelines" target="_blank" rel="noopener noreferrer"><u>(This form is only for Operating)</u></a>
                <select class="form-control" name="charge-source" id="charge-source" required>
                  <option>Operating</option>
                </select>
                </div>
                </div>

                <label for="campus">Campus</label>
                <select class="form-control" name="campus" id="campus" required>
                  <option selected>PRINCETON - Princeton Campus</option>
                </select>

                <!-- CONSIDER AUTOFILLING BUILDING BASED ON LOCATION AND OFFERING OPTION FOR USER TO EDIT -->
                <!-- COULD ALSO DO SEARCH SUGGESTIONS AS USER TYPES BUILDING NAME -->
                <!-- POSSIBLY PUT NOTE FOR USER THAT EITHER FILL ALL THREE FIELDS OR ONLY FILL BUILDING -->
                <label for="building">Building</label>
                <select class="form-control" name="building" id="building" required>
                   <option>Building A</option>
                </select>

                <div class="form-row mb-2">
                  <div class="col-sm-12">
                    <label for="floor">Floor</label>
                    <input class="form-control" type="text" name="floor" id="floor" placeholder="Floor (2 characters max) - if select Floor, MUST also select Room" aria-label="floor" maxlength="2">
                  </div>
                </div>

                <!-- COULD AUTOFILL ROOM IN SOME CASES -->
                <div class="form-row mb-2">
                  <div class="col-sm-12">
                    <label for="room">Room</label>
                    <input class="form-control" type="text" name="room" id="room" placeholder="Room number" aria-label="room">
                  </div>
                </div>

                <div class="text-center">
                  <!-- <label class="form-label">Please provide a detailed description of your service request:</label> -->
                  <label for="description">Please provide a detailed description of your service request:</label>
                  <!-- <input class="form-control" type="text" name="description" id="description" placeholder="Please describe the problem..." aria-label="Description" required> -->
                </div>
                <div class="input-group">
                  <textarea class="form-control" name="description" aria-label="text-area"></textarea>
                </div>

                <button type="button" data-toggle="modal" href="#myModal2" class="btn btn-success float-right" id="open-confirmation">Submit form</button>
                <button type="reset" class="btn btn-secondary" id="reset-workorder">Reset</button>
                </form>

                <!-- Work order button (FOR OPENING DEFUNCT WORK ORDER MODAL) -->
                <!--
                <button type="button" data-toggle="modal" href="#myModal2" class="btn btn-danger btn-lg btn-block">
                  <i class="fas fa-exclamation-triangle fa-lg" style="color:yellow;"></i>
                  &nbsp;Submit a work order...
                </button>
                -->
              </div>
            </div>

          </div>

          <!-- Modal footer -->
          <!--
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          </div>
          -->
        </div>
      </div>
    </div>

    <!-- Confirmation modal -->
    <div class="modal fade" id="myModal2" tabindex="-1" role="dialog">
      <div class="modal-dialog">
        <div class="modal-content">

          <!-- Modal Header -->
          <div class="modal-header">
            <h4>Confirm work order</h4>
            <button type="button" class="close" data-dismiss="modal" id="confirm-close">&times;</button>
          </div>

          <!-- Modal body -->
          <div class="modal-body">
            <!-- https://www.freecodecamp.org/news/how-to-use-html-to-open-link-in-new-tab/ -->
            <p>Note: Work Orders submitted through TigerTools are solely for Operating services. This includes facility malfunctions such as clogged filling stations, electrical/heating malfunctions etc. This does NOT include low ink/paper for printers (refer instead to Instructional Services). For more information, click <a href="https://facilities.princeton.edu/services/guides/work-order-charge-source-guidelines" target="_blank" rel="noopener noreferrer">here</a>.</p>

            <div class="row">
              <div class="col-sm-1 my-auto">
                <i class="fas fa-exclamation-triangle fa-2x" style="color:red;"></i>
              </div>
              <div class="col-sm-11 my-auto">
                <p>By clicking the Submit button, you are submitting a work order to Facilities. Please note your NetID will be linked to the work order as per Facilities guidelines.</p>
              </div>
            </div>
          </div>

          <!-- Modal footer -->
          <div class="modal-footer justify-content-between">
            <button type="submit" class="btn btn-success" form="workorder-form" id="confirm-btn">Submit</button>
            <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
          </div>

        </div>
      </div>
    </div>

  </body>

</html>
